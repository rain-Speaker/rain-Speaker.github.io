parsers:
  # åœ¨urlå¤„å¡«å…¥èŠ‚ç‚¹è®¢é˜…é“¾æ¥
  - url: 
    yaml:
      commands:
        # åˆ é™¤è‡ªå¸¦çš„ç­–ç•¥ç»„
        - proxy-groups-
        # åˆ é™¤è‡ªå¸¦çš„è§„åˆ™
        - rules-

  # åœ¨urlå¤„å¡«å…¥èŠ‚ç‚¹è®¢é˜…é“¾æ¥
  - url: 
    yaml:
      # æ·»åŠ è‡ªå®šä¹‰ç­–ç•¥ç»„
      append-proxy-groups:
        # æŒ‰åŠŸèƒ½æ·»åŠ ç­–ç•¥ç»„
        - name: ğŸ“Œ Final
          type: select
          proxies:
        - name: ğŸ“¡ Global
          type: select
          proxies:
        - name: ğŸ¬ Streaming
          type: select
          proxies:
        - name: ğŸ“º StreamingSE
          type: select
          proxies:
        # æŒ‰åœ°åŒºåˆ’åˆ†èŠ‚ç‚¹
        - name: ğŸ‡­ğŸ‡° HongKong
          type: select
          proxies:
        - name: ğŸ‡¯ğŸ‡µ Japan
          type: url-test
          url: http://www.google.com/generate_204
          interval: 600
          proxies:
        - name: ğŸ‡¨ğŸ‡³ Taiwan
          type: url-test
          url: http://www.google.com/generate_204
          interval: 600
          proxies:
        - name: ğŸ‡ºğŸ‡¸ UnitedStates
          type: url-test
          url: http://www.google.com/generate_204
          interval: 600
          proxies:
        - name: ğŸ‡¸ğŸ‡¬ Singapore
          type: url-test
          url: http://www.google.com/generate_204
          interval: 600
          proxies:
        - name: ğŸ‡·ğŸ‡º Russia
          type: url-test
          url: http://www.google.com/generate_204
          interval: 600
          proxies:
        - name: ğŸ‡°ğŸ‡· Korea
          type: url-test
          url: http://www.google.com/generate_204
          interval: 600
          proxies:
        - name: ğŸ‡¬ğŸ‡§ UnitedKingdom
          type: url-test
          url: http://www.google.com/generate_204
          interval: 600
          proxies:
        - name: ğŸ‡²ğŸ‡¾ Malaysia
          type: url-test
          url: http://www.google.com/generate_204
          interval: 600
          proxies:
        - name: ğŸ‡©ğŸ‡ª Germany
          type: url-test
          url: http://www.google.com/generate_204
          interval: 600
          proxies:

      # æ·»åŠ è¿œç¨‹è§„åˆ™
      mix-rule-providers:
        Unbreak:
          type: http
          behavior: classical
          path: ./RuleSet/Unbreak.yaml
          url: https://raw.githubusercontents.com/DivineEngine/Profiles/master/Clash/RuleSet/Unbreak.yaml
          interval: 86400
        Advertising:
          type: http
          behavior: classical
          path: ./RuleSet/Advertising.yaml
          url: https://raw.githubusercontents.com/DivineEngine/Profiles/master/Clash/RuleSet/Guard/Advertising.yaml
          interval: 86400
        Privacy:
          type: http
          behavior: classical
          path: ./RuleSet/Privacy.yaml
          url: https://raw.githubusercontents.com/DivineEngine/Profiles/master/Clash/RuleSet/Guard/Privacy.yaml
          interval: 86400
        Hijacking:
          type: http
          behavior: classical
          path: ./RuleSet/Hijacking.yaml
          url: https://raw.githubusercontents.com/DivineEngine/Profiles/master/Clash/RuleSet/Guard/Hijacking.yaml
          interval: 86400
        Streaming:
          type: http
          behavior: classical
          path: ./RuleSet/Streaming.yaml
          url: https://raw.githubusercontents.com/DivineEngine/Profiles/master/Clash/RuleSet/StreamingMedia/Streaming.yaml
          interval: 86400
        StreamingSE:
          type: http
          behavior: classical
          path: ./RuleSet/StreamingSE.yaml
          url: https://raw.githubusercontents.com/DivineEngine/Profiles/master/Clash/RuleSet/StreamingMedia/StreamingSE.yaml
          interval: 86400
        StreamingCN:
          type: http
          behavior: classical
          path: ./RuleSet/StreamingCN.yaml
          url: https://raw.githubusercontents.com/DivineEngine/Profiles/master/Clash/RuleSet/StreamingMedia/StreamingCN.yaml
          interval: 86400
        Global:
          type: http
          behavior: classical
          path: ./RuleSet/Global.yaml
          url: https://raw.githubusercontents.com/DivineEngine/Profiles/master/Clash/RuleSet/Global.yaml
          interval: 86400
        China:
          type: http
          behavior: classical
          path: ./RuleSet/China.yaml
          url: https://raw.githubusercontents.com/DivineEngine/Profiles/master/Clash/RuleSet/China.yaml
          interval: 86400
        ChinaIP:
          type: http
          behavior: ipcidr
          path: ./RuleSet/ChinaIP.yaml
          url: https://raw.githubusercontents.com/DivineEngine/Profiles/master/Clash/RuleSet/Extra/ChinaIP.yaml
          interval: 86400

      append-rules:
        # ä¸ºè¿œç¨‹è§„åˆ™æŒ‡å®šç­–ç•¥
        - RULE-SET, Unbreak, DIRECT
        - RULE-SET, Advertising, REJECT
        - RULE-SET, Privacy, REJECT
        - RULE-SET, Hijacking, REJECT
        - RULE-SET, Streaming, ğŸ¬ Streaming
        - RULE-SET, StreamingSE, ğŸ“º StreamingSE
        - RULE-SET, StreamingCN, DIRECT
        - RULE-SET, Global, ğŸ“¡ Global
        - RULE-SET, China, DIRECT
        - RULE-SET, ChinaIP, DIRECT
        # æ·»åŠ æœ¬åœ°è§„åˆ™
        - IP-CIDR, 10.0.0.0/8, DIRECT, no-resolve
        - IP-CIDR, 100.64.0.0/10, DIRECT, no-resolve
        - IP-CIDR, 119.28.28.28/32, DIRECT, no-resolve
        - IP-CIDR, 127.0.0.0/8, DIRECT, no-resolve
        - IP-CIDR, 172.16.0.0/12, DIRECT, no-resolve
        - IP-CIDR, 192.168.0.0/16, DIRECT, no-resolve
        - IP-CIDR6, ::1/128, DIRECT, no-resolve
        - IP-CIDR6, fc00::/7, DIRECT, no-resolve
        - IP-CIDR6, fe80::/10, DIRECT, no-resolve
        - IP-CIDR6, fd00::/8, DIRECT, no-resolve
        - DOMAIN-SUFFIX, local, DIRECT
        - GEOIP, CN, DIRECT
        - MATCH, ğŸ“Œ Final

      commands:
        # ä¸ºèŠ‚ç‚¹ç»„æ·»åŠ å¯¹åº”åœ°åŒºçš„èŠ‚ç‚¹
        - proxy-groups.(ğŸ‡­ğŸ‡° HongKong).proxies=[]proxyNames|é¦™æ¸¯|æ·±æ¸¯ä¸“çº¿[^è½¬]
        - proxy-groups.(ğŸ‡¯ğŸ‡µ Japan).proxies=[]proxyNames|æ—¥æœ¬
        - proxy-groups.(ğŸ‡¨ğŸ‡³ Taiwan).proxies=[]proxyNames|å°æ¹¾
        - proxy-groups.(ğŸ‡ºğŸ‡¸ UnitedStates).proxies=[]proxyNames|ç¾å›½
        - proxy-groups.(ğŸ‡¸ğŸ‡¬ Singapore).proxies=[]proxyNames|æ–°åŠ å¡
        - proxy-groups.(ğŸ‡·ğŸ‡º Russia).proxies=[]proxyNames|ä¿„ç½—æ–¯
        - proxy-groups.(ğŸ‡°ğŸ‡· Korea).proxies=[]proxyNames|éŸ©å›½
        - proxy-groups.(ğŸ‡¬ğŸ‡§ UnitedKingdom).proxies=[]proxyNames|è‹±å›½
        - proxy-groups.(ğŸ‡²ğŸ‡¾ Malaysia).proxies=[]proxyNames|é©¬æ¥è¥¿äºš
        - proxy-groups.(ğŸ‡©ğŸ‡ª Germany).proxies=[]proxyNames|å¾·å›½
        # ä¸ºè‡ªå®šä¹‰ç­–ç•¥ç»„æ·»åŠ èŠ‚ç‚¹ç»„
        - proxy-groups.(ğŸ“Œ Final).proxies=[]groupNames|^(?!ğŸ“Œ|ğŸ“¡|ğŸ¬|ğŸ“º).*
        - proxy-groups.(ğŸ“¡ Global).proxies=[]groupNames|^(?!ğŸ“Œ|ğŸ“¡|ğŸ¬|ğŸ“º).*
        - proxy-groups.(ğŸ¬ Streaming).proxies=[]groupNames|^(?!ğŸ“Œ|ğŸ“¡|ğŸ¬|ğŸ“º).*
        - proxy-groups.(ğŸ“º StreamingSE).proxies=[]groupNames|^(?!ğŸ“Œ|ğŸ“¡|ğŸ¬|ğŸ“º).*
        # ä¸ºFinalå’ŒStreamingSEæ·»åŠ ç›´è¿èŠ‚ç‚¹
        - proxy-groups.(ğŸ“Œ Final).proxies.0+DIRECT
        - proxy-groups.(ğŸ“º StreamingSE).proxies.0+DIRECT
